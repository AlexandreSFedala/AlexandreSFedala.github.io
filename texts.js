
    const translations = {
      en: {
        aboutMe: "About Me",
        aboutMeText: [
          "I am a second-year undergraduate civil engineering student at University College London with a diverse international background, having completed my secondary education in France through a BFI pathway.",
          "My goal as a civil engineer is to create tangible, positive change in the built environment — developing solutions that serve clients, end-users, and local communities alike. I have a particular interest in vernacular design, ensuring that buildings and infrastructure respond to local needs and integrate seamlessly into their surroundings.",
          "Sustainability is central to my approach. Recognising the construction industry’s significant environmental impact, I am committed to delivering projects that meet and exceed current climate regulations, aiming for carbon neutrality — or even a net-negative footprint — throughout my future work.",
          "My experience collaborating in a university environment has strengthened my ability to explain complex ideas clearly, and I am aiming to continue doing so in professional environments via internships."
        ],
        skills: "Skills",
        projects: "Projects",
        scrollDown: "Scroll Down",
        portfolioTitle: "An Undergraduate Portfolio",
        portfolioSubtitle: "by Alexandre S. Fedala",
        project1Title: "UCL East Extension Design",
        project2Title: "Revit - Point Cloud",
        project3Title: "Land Surveying",
        project1Detail: [
          "This project involved creating the preliminary design for a new building for the UCL East campus, covering everything from the volumetric study of the building to the functions it would perform.”,
          "This initial project gave me a much deeper understanding of the scale that a project of major interest can take on. Our solution had to take into account our client's requirements and UK regulations concerning educational infrastructure.",
          "My role was to determine a possible expenditure range for the construction of our solution in the first instance, and therefore I played a central role in the volumetric study, so as to maximize the benefits for the costs we were incurring.”,
          "In addition, as Deputy Team Leader, I had to ensure the cohesion of the group when the Leader was engaged in other tasks.”
        ],
        project1ViewPDF: "View PDF in Browser",
        project1Download: "Download Project Files",
        project2Detail: [
          "This project, whilst being one of the shortest ones I have had, has demonstrated immensely useful for the future of my career, as it introduced me to 3D Modelling in civil engineering.",
          "Within the span of a few hours, I was tasked with the remodelling of a historical building, necessitating me to master the tool as soon as possible.",
          "However, it must be conceded that the work is not perfectly neat, due to the constraints mentionned before."
        ],
        project2Download: "Download the model (Revit 2026)",
        project3Detail: [
          "This project consolidated the knowledge I gained during my first year at UCL, culminating in a detailed technical report (see PDF viewer below). Our task was to produce an accurate AutoCAD map of a designated area using professional surveying instruments such as Total Stations and Automatic Levels.",
          "As team leader for this group project, I was responsible for coordinating workloads, maintaining efficiency, and ensuring accurate data collection. This experience deepened my understanding of the importance of precise land surveying and strengthened my leadership and project management skills."
        ],
        project3ViewPDF: "View PDF in Browser",
        project3Download: "Download Full Report",
        skillNames: [
          "AutoCAD",
          "Structural Analysis",
          "Project Management",
          "Office Software",
          "Revit",
          "MatLab",
          "HTML"
        ],
        certificationsTitle: "Certifications",
        certifications: [
          {
            img: "images/CAA-Approved-drone.jpg",
            title: "Certified Civil Aviation Authority (CAA) Drone Pilot"
          },
          // Add more as needed
        ]
      },
      fr: {
        aboutMe: "À propos de moi",
        aboutMeText: [
          "Je suis étudiant en deuxième année de génie civil à University College London, avec un parcours international diversifié, ayant effectué ma scolarité secondaire en France via la filière BFI.",
          "Mon objectif en tant qu’ingénieur civil est d’apporter un changement concret et positif à l’environnement bâti — en développant des solutions qui servent les clients, les utilisateurs finaux et les communautés locales. J’ai un intérêt particulier pour l’architecture vernaculaire, afin que les bâtiments et infrastructures répondent aux besoins locaux et s’intègrent harmonieusement à leur environnement.",
          "La durabilité est au cœur de ma démarche. Conscient de l’impact environnemental du secteur de la construction, je m’engage à réaliser des projets qui respectent et dépassent les réglementations climatiques actuelles, visant la neutralité carbone — voire un bilan carbone négatif — tout au long de ma carrière.",
          "Mon expérience de collaboration à l’université a renforcé ma capacité à expliquer clairement des idées complexes, et je souhaite continuer à le faire en milieu professionnel, notamment à travers des stages."
        ],
        skills: "Compétences",
        projects: "Projets",
        scrollDown: "Faire défiler",
        portfolioTitle: "Un Portfolio de Licence",
        portfolioSubtitle: "par Alexandre S. Fedala",
        project1Title: "Design d'extension d'UCL East",
        project2Title: "Revit - Nuage de points",
        project3Title: "Etude de terrain",
        project1Detail: [
          "Ce projet consistait en la création du design préliminaire d'un nouvel édifice pour le campus d'UCL East, où l'entièreté de ce dernier, de l'étude volumétrique du bâtiment aux fonctions qu'il remplirait.",
          "Ce premier m'a permis de comprendre en bien plus grande profondeur l'ampleur qu'un projet de premier intérêt peut prendre. Notre solution devait comprendre les demandes de notre client et les règlementations britanniques concernant les infrastructures éducatives.",
          "Ma position consistait à déterminer un rayon de dépenses possibles pour la construction de notre solution en premier lieu, et donc un rôle central dans l'étude volumétrique, de sorte à maximiser les bénéfices pour les coûts que nous engagions.",
          "De plus, je devais m'assurer de la cohésion du groupe en tant que Leader Adjoint de l'équipe, lorsque le Leader avait d'autres tâches."
        ],
        project1ViewPDF: "Voir le PDF dans le navigateur",
        project1Download: "Télécharger le rapport complet",
        project2Detail: [
          "Ce projet, bien que l’un des plus courts que j’aie eus, s’est révélé extrêmement utile pour la suite de ma carrière, car il m’a initié à la modélisation 3D en génie civil.",
          "En quelques heures, j’ai dû modéliser un bâtiment historique, ce qui m’a permis de maîtriser l’outil très rapidement.",
          "Cependant, il faut admettre que le travail n’est pas parfaitement soigné, en raison des contraintes mentionnées ci-dessus."
        ],
        project2Download: "Télécharger le modèle (Revit 2026)",
        project3Detail: [
          "Ce projet a consolidé les connaissances acquises lors de ma première année à l’UCL, aboutissant à un rapport technique détaillé (voir le lecteur PDF ci-dessous). Notre tâche était de produire une carte AutoCAD précise d’une zone désignée à l’aide d’instruments professionnels tels que les stations totales et niveaux automatiques.",
          "En tant que chef d’équipe, j’étais responsable de la coordination des tâches, du maintien de l’efficacité et de la collecte précise des données. Cette expérience a renforcé ma compréhension de l’importance de la topographie et mes compétences en gestion de projet."
        ],
        project3ViewPDF: "Voir le PDF dans le navigateur",
        project3Download: "Télécharger le rapport complet",
        skillNames: [
          "AutoCAD",
          "Analyse Structurelle",
          "Gestion de Projet",
          "Logiciels Bureautiques",
          "Revit",
          "MatLab",
          "HTML"
        ],
        certificationsTitle: "Certifications",
        certifications: [
          {
            img: "images/CAA-Approved-drone.jpg",
            title: "Pilote de drone certifié de la Civil Aviation Authority (CAA)"
          },
          // Add more as needed
        ]
      }
    };

function setLanguage(lang) {
  // Make sure the language exists in translations
  if (!translations[lang]) return;
  
  // Headings
  document.querySelector('.column.aboutme h2').textContent = translations[lang].aboutMe;
  document.querySelector('.column.skills h2').textContent = translations[lang].skills;
  document.querySelector('.column.projects h2').textContent = translations[lang].projects;

  // Header
  document.querySelector('header h1').textContent = translations[lang].portfolioTitle;
  document.querySelector('header p').textContent = translations[lang].portfolioSubtitle;

  // Scroll down
  document.querySelector('.scroll-text').textContent = translations[lang].scrollDown;

  // Skill names
  document.querySelectorAll('.column.skills .skill-name span:first-child').forEach((el, i) => {
    if (translations[lang].skillNames[i]) {
      el.textContent = translations[lang].skillNames[i];
    }
  });

  // Project card titles
  document.querySelectorAll('.subpage-title').forEach((el, i) => {
    if (i === 0) el.textContent = translations[lang].project1Title;
    if (i === 1) el.textContent = translations[lang].project2Title;
    if (i === 2) el.textContent = translations[lang].project3Title;
  });

  // Project details
  // Project 1
  const project1 = document.getElementById('project1');
  if (project1) {
    const p = project1.querySelectorAll('p');
    if (p[0]) p[0].textContent = translations[lang].project1Detail[0];
    if (p[1]) p[1].textContent = translations[lang].project1Detail[1];
    const btns = project1.querySelectorAll('.download-button');
    if (btns[0]) btns[0].textContent = translations[lang].project1ViewPDF;
    if (btns[1]) btns[1].textContent = translations[lang].project1Download;
  }
  
  // Project 2
  const project2 = document.getElementById('project2');
  if (project2) {
    const p = project2.querySelectorAll('p');
    if (p[0]) p[0].textContent = translations[lang].project2Detail[0];
    if (p[1]) p[1].textContent = translations[lang].project2Detail[1];
    if (p[2]) p[2].textContent = translations[lang].project2Detail[2];
    const btn = project2.querySelector('.download-button');
    if (btn) btn.textContent = translations[lang].project2Download;
  }
  
  // Project 3
  const project3 = document.getElementById('project3');
  if (project3) {
    const p = project3.querySelectorAll('p');
    if (p[0]) p[0].textContent = translations[lang].project3Detail[0];
    if (p[1]) p[1].textContent = translations[lang].project3Detail[1];
    const btns = project3.querySelectorAll('.download-button');
    if (btns[0]) btns[0].textContent = translations[lang].project3ViewPDF;
    if (btns[1]) btns[1].textContent = translations[lang].project3Download;
  }

  // About Me section
  const aboutMeSection = document.querySelector('.column.aboutme .column-content');
  if (aboutMeSection) {
    const paragraphs = aboutMeSection.querySelectorAll('p');
    translations[lang].aboutMeText.forEach((text, i) => {
      if (paragraphs[i]) paragraphs[i].textContent = text;
    });
    
    // Update certifications title
    const certTitle = aboutMeSection.querySelector('.certifications-title');
    if (certTitle) certTitle.textContent = translations[lang].certificationsTitle;
    
    // Update certifications content
    const certList = aboutMeSection.querySelector('.certifications-list');
    if (certList) {
      certList.innerHTML = '';
      translations[lang].certifications.forEach(cert => {
        const certDiv = document.createElement('div');
        certDiv.className = 'certification-item';
        certDiv.innerHTML = `
          <img src="${cert.img}" alt="${cert.title}">
          <span class="cert-title">${cert.title}</span>
        `;
        certList.appendChild(certDiv);
      });
    }
  }

  // Update active link
  document.querySelectorAll('.lang-link').forEach(link => {
    link.classList.toggle('active', link.dataset.lang === lang);
  });
}

// Fix for language switcher event listeners
function initLanguageSwitcher() {
    const langLinks = document.querySelectorAll('.lang-link');
    
    langLinks.forEach(link => {
        // Remove any existing event listeners to prevent duplicates
        link.replaceWith(link.cloneNode(true));
    });
    
    // Re-select the links after cloning
    document.querySelectorAll('.lang-link').forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            console.log('Language link clicked:', this.dataset.lang);
            setLanguage(this.dataset.lang);
        });
    });
}

// Call this function after DOM is fully loaded
document.addEventListener('DOMContentLoaded', function() {
    initLanguageSwitcher();
    setLanguage('en'); // Set default language
});
